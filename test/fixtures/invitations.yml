<% non_members = [] %>
<% groups = Group.all %>
<% groups.each do |g| %>
  <% non_members.push (User.all - g.members) %>
  <% non_members.last.shuffle %>
<% end %>

<% 200.times do |n| %>
  <% group_id = Random.rand(50) %>
  <% user = non_members[group_id].shift %>
  invitation_<%= n %>:
    group_id: <%= group_id %>
    user_id: <%= user.id %>
    url_string: <%= SecureRandom.urlsafe_base64 %>
    expiration_date: null
    created_at: <%= Time.now.to_s %>
    updated_at: <%= Time.now.to_s %>
<% end %>

# Inviti pubblici
<% 50.times do |n| %>
  <% if n != 1 %>
  invitation_public_<%= n %>:
    group_id: <%= n %>
    user_id: null
    url_string: <%= SecureRandom.urlsafe_base64 %>
    expiration_date: null
    created_at: <%= Time.now.to_s %>
    updated_at: <%= Time.now.to_s %>
  <% end %>
<% end %>