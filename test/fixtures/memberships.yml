<% ms = [] %>
<% 50.times do |i| %>
  <% 100.times do |j| %>
    <% ms.push([i, j])%>
  <% end %>
<% end %>
<% ms = ms.shuffle %>

<% 250.times do |n| %>
<% m = ms.shift %>
membership_<%= n %>:
  user_id: <%= m[0] %>
  group_id: <%= m[1] %>
  admin: false
  created_at: <%= Time.now.to_s %>
  updated_at: <%= Time.now.to_s %>
<% end %>

<% 100.times do |n| %>
<% g = Group.find(n) %>
<% g.memberships.first.update_attribute(:admin, true) if g.members.count >= 1 %>
<% g.memberships.second.update_attribute(:admin, true) if g.members.count >= 2 %>
<% g.memberships.third.update_attribute(:admin, true) if g.members.count >= 3 %>
<% end %>